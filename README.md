# 빅데이터 융합기술
## 6주차: pandas 활용 복습과제
pandas를 사용하기 위해서는?

    import pandas as pd

python 프로그램 맨 위에 pandas 사용 선언해준다.

- Series 생성

  
  인덱스 a, b, c,'d' 와 값 1, 2, 3, 4 의 값을 갖는 Series 'A' 생성

       A=pd.Series(range(1,5), index=['a','b','c','d'])

  A :
  
  a    1
  
  b    2
  
  c    3
  
  d    4
  
  dtype: int64
  
  Series() 함수에 list 입력

  index 지정하지 않을 시 기본 인덱스 0부터 부여됨

- DataFrame 생성

  |과목명|수강학년|시간수|
  |---:|---:|---:|
  |글로벌시장과경제의이해|2|3|
  |PLC응용|3|4|
  |제어공학|3|3|
  |로봇명사와의만남|1|2|
  
  위 DataFrame 'subject' 생성
  
  - list 사용

    ```
    col=['과목명','수강학년','시간수']
    list1=list([['글로벌시장과경제의이해',2, 3],
                ['PLC응용',3, 4],
                ['제어공학',3, 3],
                ['로봇명사와의만남',1, 2],])
    subject=pd.DataFrame(list1, columns=col)
    ```
    
    DataFrame() 함수에 이차원 list 입력
    
    columns 지정하지 않을 시 기본 인덱스 0부터 부여됨

  - dict 사용
  
    ```
    dict1={'과목명':{0:'글로벌시장과경제의이해',1:'PLC응용',2:'제어공학',3:'로봇명사와의만남'},
         '수강학년':{0:2,1:3,2:3,3:1},
         '시간수':{0:3,1:4,2:3,3:2}}
    subject=pd.DataFrame(dict1)
    ```
  
    
    DataFrame() 함수에 dict 입력
    
    {col:{index:value, index:value}} 순서로 입력
  
- csv 파일 저장 및 읽기

  - subject 데이터프레임을 'filename.csv' 로 저장

    ```
    subject.to_csv('./filename.csv', header=true. index=false, encoding='utf-8')
    ```
  
    subject 데이터프레임을 현재 디렉토리에 filename.csv로 저장, 헤더 및 인덱스 True/False 설정으로 저장 여부 설정 가능

  - 현재 디렉토리에 저장되어 있는 filename.csv 파일을 'df' 로 읽기
  
    ```
    df=pd.read_csv('./filename.csv')
    ```
- 열 이름 조회

  ```
  df.columns
  ```

  실행 결과: Index(['과목명', '수강학년', '시간수'], dtype='object')

- 데이터프레임 값 통계 출력

  ```
  df.describe()
  ```
  
    | |수강학년|시간수|
    |---|---|---|
    |count|4.000000|4.000000|
    |mean|2.250000|3.000000|
    |std|0.957427|0.816497|
    |min|1.000000|2.000000|
    |25%|1.750000|2.750000|
    |50%|2.500000|3.000000|
    |75%|3.000000|3.250000|
    |max|3.000000|4.000000|


- 데이터프레임 정렬 상위/하위 n개 열람

  ```
  df.head(n)
  df.tail(n)
  ```

  각각 데이터프레임의 처음/마지막 n개 행 반환

- 특정 열 기준으로 행 오름차순/내림차순 정렬

  ```
  df.sort_values(by=['수강학년'], ascending=0)
  ```
  
  |  |과목명|수강학년|시간수|
  |---:|---:|---:|---:|
  |1|PLC응용|3|4|
  |2|제어공학|3|3|
  |0|글로벌시장과경제의이해|2|3|
  |3|로봇명사와의만남|1|2|

  
  수강학년 기준으로 정렬, ascending=True/False 설정으로 오름차순/내림차순 정렬

- 열 또는 조건식을 기준으로 데이터 조회

  ```
  df[['과목명','시간수']]
  ```
  
  |  |과목명|시간수|
  |---:|---:|---:|
  |0|글로벌시장과경제의이해|3|
  |1|PLC응용|4|
  |2|제어공학|3|
  |3|로봇명사와의만남|2|

- 인덱스로 데이터 조회

  ```
  df.iloc[1:3,0:2]
  ```

  | |과목명|수강학년|
  |---:|---:|---:|
  |1|PLC응용|3|
  |2|제어공학|3|

  1:3 인덱스, 0:2 열 조회

- 조건을 만족하는 데이터 조회

  ```
  df[df['시간수']>2]
  ```
  
  ||과목명|수강학년|시간수|
  |---:|---:|---:|---:|
  |0|글로벌시장과경제의이해|2|3|
  |1|PLC응용|3|4|
  |2|제어공학|3|3|

  시간수 열의 값이 2를 넘는 행만 출력

  연산자 또는 함수를 연계하여 복잡한 조건 설정 가능
  
- 데이터 수정

  ```
  df.loc[0,'과목명] ='인간과현대사회'
  ```

  인덱스 0, 열 '과목명' 의 값 '글로벌시장과경제의이해'를 '인간과현대사회'로 수정

- 중복 데이터가 없는 열을 인덱스로 지정

  ```
  df.set_index('과목명',inplace=True)
  ```
    
  ||수강학년|시간수|
  |---:|---:|---:|
  |과목명|||
  |인간과현대사회|2|3|
  |PLC응용|3|4|
  |제어공학|3|3|
  |로봇명사와의만남|1|2|

  inplace=True 지정하여 원본에 수정사항 적용 가능

  ```
  df.reset_index(inplace=True)
  ```
  
  reset_index() 함수 사용하여 기본 인덱스로 복구

  
- 열 추가

  ```
  df['수강인원']=df['시간수']*10
  ```
  
  '시간수'*10의 값을 갖는 '수강인원' 열 생성
  
  ||과목명|수강학년|시간수|수강인원|
  |---:|---:|---:|---:|---:|
  |0|인간과현대사회|2|3|30|
  |1|PLC응용|3|4|40|
  |2|제어공학|3|3|30|
  |3|로봇명사와의만남|1|2|20|

- 열 삭제

  ```
  sj.drop('수강인원',axis=1,inplace=True)
  ```
  
  추가한 '수강인원' 열을 삭제

- 데이터 치환

  ```
  rep_cond = {'수강학년':{1:'A', 2:'B',3:'C',4:'D'}}
  df.replace(rep_cond)
  ```
    
  |과목명|수강학년|시간수|
  |---:|---:|---:|
  |인간과현대사회|B|3|
  |PLC응용|C|4|
  |제어공학|C|3|
  |로봇명사와의만남|A|2|

  '수강학년' 열의 1, 2, 3, 4 를 각각 A, B, C, D 로 치환

- 특정 열 기준 조회

  ```
  df.groupby(by=['수강학년'],as_index=False)['시간수'].mean()
  ```
  
  ||수강학년|시간수|
  |---:|---:|---:|
  |0|1|2.0|
  |1|2|3.0|
  |2|3|3.5|

  '수강학년'의 값으로 그룹화, 각 '시간수' 값의 평균 계산

  평균: mean(), 표준편차: std(), 합: sum() 등 함수 사용 가능
